<!DOCTYPE html>
<html lang="en">
    <!-- Header -->
    <head>
        <!-- Title -->
        <title>codr</title>
        
        <!-- Favicon -->
        <link rel="icon" href="../blockly/appengine/favicon.ico" type="image/icon"> 
        
        <!-- Stylesheets -->
        <link rel="stylesheet" href="../style.css">
        
        <!-- Fonts -->
        <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
        
        <!-- Blockly Scripts -->
        <script src="../blockly/blockly_compressed.js"></script>
        <script src="../blockly/blocks_compressed.js"></script>
        <script src="../blockly/javascript_compressed.js"></script>
        <script src="../blockly/msg/js/en.js"></script>
        
        <!-- p5.js Scripts -->
        <script src="../p5/p5.min.js"></script>
        <script src="../p5/p5.dom.min.js"></script>
        <script src="../p5/p5.sound.min.js"></script>
    </head>
    
    <!-- Body -->
    <body>
        <!-- Main Code -->
        <div id="main" style="position: fixed; height: 400px; width: 600px; top: 0; left: 0;">
                <!-- Generate Button -->
                <button onclick="generateAndRunJS()">generate</button>
                
                <!-- Run Code Script -->
                <script>
                    function generateAndRunJS() {
                        // Running Blockly code so far
                        Blockly.JavaScript.addReservedWords('code');
                        var code = Blockly.JavaScript.workspaceToCode(workspace);
                        try {
                            eval(code);
                        } catch (e) {
                            alert(e);
                        }
                    }
                </script>
                
                <!-- Toolbox -->
                <xml id="toolbox" style="display: none;">
                    
                </xml>
                
                <!-- Blockly Injection Script -->
                <script>
                    var workspace = Blockly.inject('main',
                        {toolbox: document.getElementById('toolbox'),
                        zoom:
                            {controls: true,
                            wheel: true,
                            startScale: 1.0,
                            maxScale: 3,
                            minScale: 0.3,
                            sqcaleSpeed: 1.2},
                        trashcan: true});
                </script>
            </div>
    </body>
</html>
